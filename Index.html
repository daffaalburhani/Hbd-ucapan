<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>HBD - Siti Mutmainah</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Amiri&family=Pacifico&family=Nunito:wght@300;600&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1: #fff6f8;
    --bg2: #ffe4ec;
    --accent:#d63384;
    --soft:#f8cbd6;
    --card:#ffffffcc;
    --dark:#1f1b2e;
  }
  html,body{
    height:100%;
    margin:0;
    font-family: "Nunito", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: linear-gradient(135deg, var(--bg1), var(--bg2));
    color:var(--dark);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  .wrap{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:28px;
    box-sizing:border-box;
  }

  .card{
    width:100%;
    max-width:920px;
    background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.85));
    border-radius:16px;
    box-shadow: 0 12px 40px rgba(20,10,40,0.15);
    padding:28px;
    position:relative;
    overflow:hidden;
  }

  header{
    text-align:center;
    margin-bottom:18px;
  }
  header h1{
    margin:8px 0 0 0;
    font-family: 'Pacifico', cursive;
    color:var(--accent);
    font-size:28px;
    letter-spacing:0.6px;
  }
  header p.small{
    margin:0;
    font-size:13px;
    color:#6b586b;
  }

  /* Page sections */
  .page{
    display:block;
  }
  .hidden{
    display:none;
  }

  /* Input page */
  .input-wrap{
    display:flex;
    gap:10px;
    justify-content:center;
    margin-top:18px;
    flex-wrap:wrap;
  }
  .input-wrap input{
    padding:12px 16px;
    border-radius:12px;
    border:1px solid #ffd3e6;
    min-width:220px;
    font-size:16px;
    outline:none;
    text-align:center;
    background:transparent;
  }
  .btn{
    padding:11px 18px;
    border-radius:12px;
    border:none;
    background:var(--accent);
    color:white;
    font-weight:600;
    cursor:pointer;
    box-shadow:0 6px 18px rgba(214,51,132,0.18);
  }
  .btn:active{ transform:translateY(1px); }

  /* Salam Arabic */
  .salam{
    font-family: 'Amiri', serif;
    font-size:24px;
    color:#2b2130;
    text-align:center;
    line-height:1.3;
    padding:28px 8px;
  }

  /* HBD section */
  .hbd-title{
    text-align:center;
    margin-top:8px;
  }
  .hbd-title .hbd-main{
    font-family:'Pacifico',cursive;
    font-size:44px;
    color:var(--accent);
    margin:0;
    letter-spacing:1px;
  }
  .hbd-title .hbd-name{
    font-size:24px;
    margin:8px 0 0 0;
    color:#46283a;
  }

  /* pesan (last) */
  .pesan{
    max-width:740px;
    margin: 18px auto 12px auto;
    padding:18px;
    background:var(--card);
    border-radius:12px;
    font-size:16px;
    color:#3b2a37;
    box-shadow: 0 6px 30px rgba(30,10,30,0.06);
    line-height:1.6;
  }
  .hashtag{
    margin-top:10px;
    font-weight:700;
    color: #874458;
    text-align:center;
  }

  /* textarea */
  textarea {
    width: 100%;
    min-height: 100px;
    padding: 12px;
    border-radius: 12px;
    border: 1px solid #ffd3e6;
    font-size: 16px;
    resize: vertical;
    font-family: inherit;
  }

  /* footer */
  .foot{
    text-align:center;
    margin-top:12px;
    color:#6b586b;
    font-size:13px;
  }

  /* play btn */
  .play-wrap{
    display:flex;
    gap:8px;
    justify-content:center;
    margin-top:12px;
  }
  .play{
    padding:8px 12px;
    border-radius:999px;
    border:1px solid rgba(214,51,132,0.12);
    background:white;
    cursor:pointer;
    display:inline-flex;
    align-items:center;
    gap:8px;
    font-weight:600;
  }

  /* hearts (floating) */
  .heart{
    position:fixed;
    z-index:40;
    pointer-events:none;
    user-select:none;
    will-change:transform,opacity;
    font-size:22px;
    transform:translateY(-10vh);
    animation:fall 6s linear forwards;
    text-shadow: 0 2px 6px rgba(0,0,0,0.15);
  }
  @keyframes fall{
    to { transform: translateY(110vh) scale(1.05); opacity:0.05; }
  }

  /* confetti canvas */
  #confettiCanvas{
    position:absolute;
    left:0; top:0; width:100%; height:100%;
    z-index:20;
    pointer-events:none;
  }

  /* typing cursor */
  .type{
    display:inline-block;
    white-space:pre-wrap;
    font-family:inherit;
  }
  .cursor{
    display:inline-block;
    width:10px;
    height:22px;
    background:var(--accent);
    margin-left:6px;
    vertical-align:middle;
    animation:blink 1s steps(2) infinite;
  }
  @keyframes blink{ 50% { opacity:0 } }

  /* responsive */
  @media (max-width:640px){
    .hbd-title .hbd-main{ font-size:34px; }
    .hbd-title .hbd-name{ font-size:20px; }
    .salam{ font-size:20px; padding:18px 6px; }
    .card{ padding:18px; border-radius:12px; }
  }
</style>
</head>
<body>

<div class="wrap">
  <div class="card" role="main">

    <header>
      <p class="small">To : <strong>Siti Mutmainah</strong></p>
      <h1>Ucapan Spesial</h1>
    </header>

    <!-- PAGE 1: INPUT NAMA -->
    <section id="page1" class="page">
      <div style="text-align:center;">
        <div class="salam" aria-hidden="true">
          ٱلسَّلَامُ عَلَيْكُمْ وَرَحْمَةُ ٱللَّٰهِ وَبَرَكَاتُهُ
        </div>
        <p style="margin:4px 0 0 0; color:#6b586b">Masukkan namamu untuk melanjutkan</p>
      </div>

      <div class="input-wrap" style="margin-top:18px;">
        <input id="nameInput" type="text" placeholder="Tulis namamu di sini..." autocomplete="off" />
        <button class="btn" id="btnCheck">Lanjut</button>
      </div>

      <div class="play-wrap" style="margin-top:12px;">
        <button class="play" id="playBtn" title="Putar musik">▶ Putar Musik</button>
        <button class="play" id="pauseBtn" title="Jeda musik" style="display:none">⏸ Jeda</button>
      <audio id="bgMusic" preload="none">
  <source src="mabruk.mp3" type="audio/mpeg" />
</audio>
      </div>

      <p class="foot" style="margin-top:10px">Catatan: Hanya nama <strong>Siti Mutmainah</strong> yang dapat lanjut.</p>
    </section>

    <!-- PAGE 2: SALAM TRANSITION (short) -->
    <section id="page2" class="page hidden">
      <div class="salam" style="font-size:26px;">
        ٱلسَّلَامُ عَلَيْكُمْ وَرَحْمَةُ ٱللَّٰهِ وَبَرَكَاتُهُ
      </div>
    </section>

    <!-- PAGE 3: HBD -->
    <section id="page3" class="page hidden" aria-live="polite">
      <div class="hbd-title">
        <p class="hbd-main" id="typedHBD"></p><span class="cursor" id="cursor1" style="display:none"></span>
        <p class="hbd-name">🥰❤️ My Hany ❤️🥰</p>
      </div>
      <canvas id="confettiCanvas"></canvas>
    </section>

    <!-- PAGE 4: PESAN DARI DAFFA -->
    <section id="page4" class="page hidden">
      <div class="pesan" id="pesanBox">
❤️         <div id="typedPesan" class="type"></div><span class="cursor" id="cursor2" style="display:none"></span>
      </div>
      <button id="btnToPage5" class="btn" style="margin-top:16px;">Next</button>
      <div class="hashtag"> من جدوجد # 
     ان الاعمال بالنية # 
إِنَّ اللَّه مع الصَّابِرِين #
</div>
      <div class="foot" style="margin-top:12px"> From : <strong>calon suami kamu</strong></div>
    </section>

    <!-- PAGE 5: UCAPAN CALON SUAMI -->
    <section id="page5" class="page hidden">
      <h2 style="text-align:center;">Ucapan untuk calon suamiku</h2>
      <textarea id="suamiMessage" placeholder="Tulis ucapanmu di sini..."></textarea>
      <br/>
      <button id="sendWA" class="btn" style="margin-top:12px;">selanjutnya</button>
    </section>

    <!-- Audio (file musik.mp3 harus ada di folder sama) -->
    <audio id="bgMusic" preload="none">
      <source src="musik.mp3" type="audio/mpeg" />
    </audio>

  </div>
</div>

<script>
/* ============================
   TEXTS (sesuaikan di sini)
   ============================ */
const HBD_ARAB = "Happy Birthday"
const PESAN_TEXT = `
> مَبْرُوك أَلْفَ مَبْرُوك، سِتِّي مُطْمَئِنَة
Mabruk alfa mabruk, Humairoookuuuu

Selamat ulang tahun yang ke-19, sayangku!
Semoga di usia yang baru ini, kamu semakin diberkahi oleh Allah SWT.
Semoga semua impian, cita-cita, dan harapanmu terkabul dengan mudah.
Semoga setiap langkah yang kamu ambil selalu dalam ridho dan kasih sayang-Nya.
Semoga panjang umur, sehat selalu, dan bahagia dunia akhirat.

Tambahan doa:
"أَسْأَلُ اللهَ أَنْ يُبَارِكَ فِي عُمْرِكِ وَيُوَفِّقُكِ فِي كُلِّ خَيْرٍ"
(Aku memohon kepada Allah agar memberkati umurmu dan memberimu keberhasilan dalam segala kebaikan)

Aku cinta kamu dalam ridha Allah، حَبِيبَتِي

❤️ Dari calon suamimu, Daffa ❤️

__________________________________

*𝙩𝙖𝙢𝙗𝙖𝙝 𝙪𝙢𝙪𝙧 𝙗𝙚𝙧𝙖𝙧𝙩𝙞 𝙟𝙪𝙜𝙖 𝙩𝙖𝙢𝙗𝙖𝙝 𝙨𝙖𝙮𝙖𝙣𝙜 𝙙𝙖𝙣 𝙘𝙞𝙣𝙩𝙖*
\n\nأَنَا يُحِبُّكِ فِي اللهِ حَبِيبَتِي`;

/* ============================
   UI elements
   ============================ */
const page1 = document.getElementById('page1');
const page2 = document.getElementById('page2');
const page3 = document.getElementById('page3');
const page4 = document.getElementById('page4');
const page5 = document.getElementById('page5');

const nameInput = document.getElementById('nameInput');
const btnCheck = document.getElementById('btnCheck');
const btnToPage5 = document.getElementById('btnToPage5');

const typedHBD = document.getElementById('typedHBD');
const cursor1 = document.getElementById('cursor1');
const typedPesan = document.getElementById('typedPesan');
const cursor2 = document.getElementById('cursor2');

const suamiMessage = document.getElementById('suamiMessage');
const sendWA = document.getElementById('sendWA');

const bgMusic = document.getElementById('bgMusic');
const playBtn = document.getElementById('playBtn');
const pauseBtn = document.getElementById('pauseBtn');

/* =============
   Name check
   ============= */
function normalizeName(s){
  return s.trim().toLowerCase().replace(/\s+/g, ' ');
}
btnCheck.addEventListener('click', checkName);
nameInput.addEventListener('keydown', function(e){
  if(e.key === 'Enter') checkName();
});

function checkName(){
  const v = normalizeName(nameInput.value || "");
  if(v === "siti mutmainah"){
    goToSalam();
  } else {
    alert("Maaf, ini hanya untuk Siti Mutmainah ❤️");
    nameInput.focus();
  }
}

/* =========================
   Flow: salam -> HBD -> pesan -> calon suami
   ========================= */
function goToSalam(){
  page1.classList.add('hidden');
  page2.classList.remove('hidden');
  setTimeout(() => {
    page2.classList.add('hidden');
    showHBD();
  }, 2200);
}

function showHBD(){
  page3.classList.remove('hidden');
  try { if(bgMusic._shouldPlay) bgMusic.play(); } catch(e){}
  startHearts();
  startConfetti();
  typeText(typedHBD, HBD_ARAB, 90, () => {
    setTimeout(() => {
      page3.classList.add('hidden');
      showPesan();
    }, 1600);
  });
}

function showPesan(){
  page4.classList.remove('hidden');
  typeText(typedPesan, PESAN_TEXT, 22);
}

/* =========================
   Typing effect helpers
   ========================= */
function typeText(element, text, speed = 60, callback){
  element.innerText = "";
  let i = 0;
  const cursor = (element === typedHBD) ? cursor1 : cursor2;
  cursor.style.display = 'inline-block';
  function step(){
    if(i < text.length){
      element.innerText += text[i++];
      setTimeout(step, speed);
    } else {
      cursor.style.display = 'none';
      if(callback) callback();
    }
  }
  step();
}

/* =========================
   Hearts animation
   ========================= */
function startHearts(){
  const interval = setInterval(() => {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.style.left = (Math.random() * 90 + 2) + 'vw';
    heart.style.fontSize = (Math.random() * 18 + 18) + 'px';
    heart.style.opacity = 0.95;
    heart.innerText = '❤️';
    document.body.appendChild(heart);
    setTimeout(()=> heart.remove(), 6200);
  }, 450);
}

/* =========================
   Confetti (canvas)
   ========================= */
function startConfetti(){
  const canvas = document.getElementById('confettiCanvas');
  if(!canvas) return;
  const ctx = canvas.getContext('2d');
  function resize(){ canvas.width = canvas.offsetWidth; canvas.height = canvas.offsetHeight; }
  resize();
  window.addEventListener('resize', resize);
  const pieces = [];
  const colors = ["#ffd166","#ff6b6b","#6b8cff","#c77dff","#ffd3e6","#ffb3d9"];
  const W = canvas.width, H = canvas.height;
  for(let i=0;i<120;i++){
    pieces.push({
      x: Math.random()*canvas.width,
      y: Math.random()*-canvas.height,
      r: Math.random()*6+4,
      d: Math.random()*Math.PI*2,
      vx: (Math.random()-0.5)*1.6,
      vy: 1 + Math.random()*3,
      color: colors[Math.floor(Math.random()*colors.length)],
      tilt: Math.random()*0.3
    });
  }
  let t = 0;
  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for(const p of pieces){
      ctx.beginPath();
      ctx.fillStyle = p.color;
      ctx.save();
  ctx.translate(p.x,p.y);
      ctx.rotate(p.tilt);
      ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6);
      ctx.restore();
      p.x += p.vx + Math.sin(t+p.d)*0.6;
      p.y += p.vy;
      p.tilt += 0.01;
      if(p.y > canvas.height + 20){
        p.y = -20;
        p.x = Math.random()*canvas.width;
      }
    }
    t += 0.02;
    requestAnimationFrame(draw);
  }
  draw();
}

/* =========================
   Audio controls (play button)
   ========================= */
playBtn.addEventListener('click', () => {
  bgMusic.play().then(() => {
    bgMusic._shouldPlay = true;
    playBtn.style.display = 'none';
    pauseBtn.style.display = 'inline-flex';
  }).catch(() => {
    bgMusic._shouldPlay = false;
  });
});
pauseBtn.addEventListener('click', () => {
  bgMusic.pause();
  bgMusic._shouldPlay = false;
  pauseBtn.style.display = 'none';
  playBtn.style.display = 'inline-flex';
});
window.addEventListener('pagehide', () => bgMusic.pause());

/* =========================
   Button lanjut ke page 5 (ucapan calon suami)
   ========================= */
btnToPage5.addEventListener('click', () => {
  page4.classList.add('hidden');
  page5.classList.remove('hidden');
  suamiMessage.focus();
});

/* =========================
   Kirim pesan calon suami ke WA Daffa
   ========================= */
sendWA.addEventListener('click', () => {
  const msg = suamiMessage.value.trim();
  if(msg.length === 0){
    alert("Tolong tulis ucapanmu dulu ya 😊");
    suamiMessage.focus();
    return;
  }
  // encode pesan supaya aman di URL
  const encodedMsg = encodeURIComponent(msg);
  const waNumber = "6281335870244"; // nomor WA Daffa tanpa 0 depan dan +62
  // buka link WA API
  const waLink = `https://wa.me/${waNumber}?text=${encodedMsg}`;
  window.open(waLink, "_blank");
});

/* =========================
   Fokus input saat page 1 klik
   ========================= */
nameInput.focus();
document.getElementById('page1').addEventListener('click', (e) => {
  if(e.target === document.getElementById('page1')) nameInput.focus();
});
</script>

</body>
</html>s